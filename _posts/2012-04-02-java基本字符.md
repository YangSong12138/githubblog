---
layout: post
title: java基本“字符”
tags: java
---

{{ page.title }}
================

关键字、字面常量和保留字
------------------------

1.字符串比较时用的什么方法,内部实现如何?
使用equals方法,先比较引用是否相同,后比较内容是否一致.
 
2.hashcode的作用,以及重写equal方法,为什么要重写hashcode方法?
hashcode是系统用来快速检索对象而使用,equals方法是用来判断引用的对象是否一致,所以,当引用对象一致时,必须要确保其hashcode也一致,因此需要重写hashcode方法来确保这个一致性

hashcode是用来查找的，如果你学过数据结构就应该知道，在查找和排序这一章有  
例如内存中有这样的位置  
0  1  2  3  4  5  6  7    
而我有个类，这个类有个字段叫ID,我要把这个类存放在以上8个位置之一，如果不用hashcode而任意存放，那么当查找时就需要到这八个位置里挨个去找，或者用二分法一类的算法。  
但如果用hashcode那就会使效率提高很多。 

hashcode()与equals()
--------------------

equals()相等的两个对象，hashcode()一定相等；
equals()不相等的两个对象，却并不能证明他们的hashcode()不相等。
反过来：
hashcode()不等，一定能推出equals()也不等；
hashcode()相等，equals()可能相等，也可能不等。

下面例子的原因是什么？
---------------------
	class Compare 
	{
	        public static void main(String[] args)
	        {
	                String str1=new String("abc");
	                String str2=new String("abc");
	                        if(str1==str2)//false
	                                System.out.println("str1=str2");
	                        System.out.println(str1.hashCode());//96354
	                        System.out.println(str2.hashCode());//96354
	                }
	}

答案：hashCode()方法返回的值不是由对象的地址以某种方式转换来的吗？既然是两个对象，地址应该不一样，为什么str1，str2调用hashCode()方法后值是相同的？


一句话的简单解释：String类重写了hashCode()方法，所以equals返回true的时候，HashCode的返回值就相等

只是Object类的hashCode方法才是返回对象的地址了


{% include references.md %}
{% include pictures.md %}
