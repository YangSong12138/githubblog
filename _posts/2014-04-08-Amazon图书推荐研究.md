---
layout: post
title: Amazon图书推荐研究
tags: algorithm
---

{{ page.title }}
================

今天看到知乎上关于《Amazon 的推荐算法是否特别优秀？为什么？》这一话题的讨论很有感触，决定进行研究。

关于知乎上讨论的理解
--------------------

###“简单可解释的算法模型 + 海量数据 + 优秀的前端交互体验。”

他们大致意思是说Amazon的推荐算法其实并不是那么的高大上，亚马逊现在使用的推荐系统仍然是item-to-item的算法，最基本也是最简单但也是用得最多的算法。很多公司都会，实际上影响推荐并不只是算法，“工业界要用的主要还是能用算法+产品+体验。”

成功的运行一个推荐系统，需要的不仅是算法，还必须同时满足很多不同方面的约束，这需要大量的经验。Amazon在这方面应该算是佼佼者了。



亚马逊推荐的思路：
-----------------

对于Amazon推荐的错误理解是只要数据量足够大，所有的信息，包括预测，推荐，评价等，都可以从数据分析中获得。
其实他们做的，不是从数据中分析出信息，而是建立一套有效的评价和反馈机制，让用户形成一个良好的Community，让用户本身对于产品进行推荐。也就是说，你得到的推荐，也许根本不是从数据中挖掘出来的，而是由其他用户贡献的。这个观点还可以这么理解：用户群体，也成为了产品的一部分。

推荐算法的观点：
---------------

核心观点：
当数据量足够大的时候，任何统计模型（推荐算法）得到的结果都更准确
越简单的模型，随着数据量增大表现出的准确性提高越明显
在数据量足够大的时候，简单模型得出的结果准确性要高于复杂模型

而导致数据结果准确的原因就是，他们的数据足够「大」。
大的含义有两层：
维度够广
历史够长
收集信息的阶段，尽可能多的记录下来能记录的数据，分析的时候把所有维度都纳入。如果和结果不存在相关性自然就不会体现到结果中。

学术界和工业界在推荐算法的评价标准不一样，为发论文要去死抠百分零点几的准确率，实际应用的话更关注算法健壮性、可扩展、效率、可解释性，所以简单的算法+海量数据更能符合实际生产环境。

亚马逊推荐算法
--------------

一、基于物品自身相似度：例如衣服A和衣服B，对于它们在分类、价格段、属性、风格、品牌定位等等其他属性纬度的表现，来计算它们之间的相似度，如果相似度高，那么在有用户浏览A的时候，就可以推荐B（实际当然没这么简单）。因为衣服的这些属性是不依赖于用户的，所以解决了系统的冷启动问题，正是不依赖与用户的行为数据，因此比较死板，完全没有个性化的推荐。这个算法的思路很多人都清楚，但是越是简单的算法，要达到好的效果就越是难，特别是推荐这种转化率非常低的算法。商品有几十个属性，对不同分类的商品，并不是所有的属性都是有必要纳入相似度计算的，已经纳入的属性但是重要性也是有区别的，这样一来，光光给不同类别商品筛选必要属性以及设置这些属性在相似度计算中的权重值，就是一项非常浩大的工程了。亚马逊的推荐系统在全球行业中也是最早的，相信他们在这个问题上肯定有自己一套迅速有效的方法。当然要我来说具体是怎么样的，我怎么可能知道呢^_^，知道了也不告诉你。

二、基于用户纬度的协同过滤：采集用户的购买（浏览、收藏都行）商品数据，把用户购买的商品列出来，当作用户的属性纬度。例如用户A购买了商品1、2、3、4、5，用户B购买了商品1、2、5、6，那么可以简单的将12345和1256分别作为A和B的属性特征字符串，计算A和B的相似度，经过简单的聚类将用户聚成几个类别（邻居）。假设A和B同属于一个聚类，那么可以称A和B有比较相似的偏好，继而可以将A买过而B没买过的其他商品推荐给B。在这一个流程里，可以发挥的地方有很多：1、用户的行为数据需要去噪音（买了多少商品以下的用户不考虑，有代购的不考虑，如何精准的判断代购，商品时效性的考虑，数据的时间跨度等等）；2、计算相似度的时候跟第一点中提到的一样，并不是所有商品对用户的描述度都是一样的。可能价格低的重要程度就没有昂贵的商品重要。3、通过聚类计算邻居的时候，聚类算法又是另一门学科了，或者选择分类算法。然后聚类的门槛选择都是需要很长时间的测试、观察、修改的，需要时间的积累。4、浏览、购买、收藏等历史数据是不是可以协同过滤。现在很多网站给出的推荐，都不是单一推荐算法的，一个算法的输出可以作为另一个算法的输入，可以是多个算法的输出综合筛选，这也是一个需要长时间积累的地方。

三、基于物品纬度的协同过滤：其实我觉得是和第二点很相似，就是将用户作为商品的属性纬度来看。例如商品A被用户1，2，3，4，5，6购买过，商品B被用户1，3，4，5，7购买过，那么将123456作为商品A的特征属性数据，13457作为商品B的特征数据，然后计算商品A和B的相似度（这里的相似度却别于第一点提到的相似度，似乎叫“相似度”不是很合适）。因为我们有理由认为同一个人群买了A，又买了B，那么A和B一定有某种关联。在这个流程里面可以发挥的地方基本和第二点中提到的差不多。

四、强关联规则的应用：重点是同一次购买记录（当然也不是必然的，看自己的选择）。首先收集数据就需要把一单购买一种商品的过滤掉。然后一次对每一条记录中进行成对提取统计，简单的就是两两统计次数，这种提取出来的都是两个商品被同时购买的次数，适用于一对一推荐。还有一种是通过FPTree算法（似乎是这个名字吧，因为我们公司是一对一的需求，所以这个算法我没怎么研究，是我自己写的两两统计），不光是一对一推荐，可以一对二，二对一。在这个流程里面，关联规则（关联规则_百度百科）挖掘算法非常重要，其中置信度和支持度也是需要不断调整的地方。

五、所有推荐系统之间的数据共享、数据的定时自动更新、自动学习。
总的来说，推荐算法大部分都是很朴素的，但是需要运用的好，没有长时间的积累是做不到的。仅仅是聘请一些算法工程师，运用一些算法框架，想取得好的推荐效果，基本是不可能的。只有算法与具体业务相结合才能产生化学反应。

参考资料
--------

1.	知乎上关于《Amazon 的推荐算法是否特别优秀？为什么？》：<http://www.zhihu.com/question/19969010>

{% include references.md %}
{% include pictures.md %}
